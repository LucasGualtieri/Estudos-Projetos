#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct _String {
	char* buffer;
	int (*length)(struct _String*); // Function pointer to simulate a method
} _String;

// Method implementation
int length(_String* string) {
	return strlen(string->buffer);
}

_String* teste() {
	_String* aux = (_String*)malloc(sizeof(_String));
	aux->length = length; // Assign the function pointer
	return aux; // Return the allocated object
}

int main() {
	_String* string = teste();

	string->buffer = "Lucas";

	int len = string->length(string); // Call the method on the object

	printf("Len: %d\n", len);

	free(string); // Free the allocated memory

	return 0;
}
